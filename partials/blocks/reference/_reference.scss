.reference {
	$self: &;
	padding: 96px 0 48px 0;

	--bg: var(--cl-white);
	--fg: var(--cl-black);
	--accent: var(--cl-secondary);
	--accent2: var(--cl-primary);
	--light: var(--cl-grey);

	background-color: var(--bg);
	color: var(--fg);

	.wrapper {
		@include max-width;
	}

	.tns-controls {
		position: relative;
		transform: translateY(0);
		padding: 0;
		margin: 96px 0 0 0;
		justify-content: center;

		button {
			background: transparent;

			border: 2px solid var(--accent);
			border-radius: 50%;

			&:before {
				border: none;
				background-image: none;
				mask-image: url(../img/icons/arrow-left-regular-primary.svg);
				mask-size: 16px;
				mask-position: center;
				mask-repeat: no-repeat;
				background-color: var(--accent);
			}

			&:hover {
				background-color: var(--accent);
				// border: 2px solid var(--cl-primary);

				&:before {
					background-color: var(--bg);
				}
			}
		}

		[data-controls='next'] {
			margin: 0 0 0 8px;

			&::before {
				background-image: none !important;
				mask-image: url(../img/icons/arrow-right-regular-primary.svg);
			}
		}
	}

	#{$self}__container {
		#{$self}__text {
			font-style: italic;
			text-align: center;
			padding-top: 96px;
			position: relative;

			h3 {
				color: var(--accent2);
			}

			@include custom(960px) {
				h3 {
					text-align: right;
				}
			}

			&::after {
				content: '';
				position: absolute;
				top: 0;
				left: calc(50% - 32px);
				width: 64px;
				height: 64px;
				background-color: var(--accent);
				mask-image: url('../img/icons/quote-right-solid-primary.svg');
				mask-size: 100% 100%;
				mask-repeat: no-repeat;
			}
		}

		@include custom(960px) {
			display: flex;
			gap: 64px;

			#{$self}__text {
				order: 1;
				width: 60%;

				&::after {
					left: auto;
					right: 0;
				}
			}

			#{$self}__person {
				order: 0;
				width: 256px;
				display: flex;
				flex-direction: column;

				#{$self}__image {
					margin: 0;
					margin-bottom: 32px;

					img {
						width: 100%;
						border-radius: 50%;
					}
				}
			}
		}
	}

	&__rating {
		padding: 0 0 48px 0;

		ul {
			display: flex;
			justify-content: center;

			li {
				display: block;
				position: relative;
				width: 40px;
				height: 40px;
				overflow: hidden;
				margin: 0 8px 0 0;
				transition: 0.25s all ease-in-out;
				line-height: 40px;
				white-space: nowrap;
				text-overflow: ellipsis;
				border: 2px solid var(--light);
				@include square;

				&:before {
					content: '';
					position: absolute;
					top: 50%;
					left: 50%;
					transform: translate(-50%, -50%);
					width: 40px;
					height: 40px;
					mask-image: url(../img/icons/star-regular-grey.svg);
					mask-size: 16px 16px;
					mask-repeat: no-repeat;
					mask-position: center;
					background-color: var(--light);
				}
			}
		}

		&--1 {
			ul {
				li {
					&:nth-of-type(-n + 1) {
						border-color: var(--accent);
						&:before {
							background-color: var(--accent);
						}
					}
				}
			}
		}

		&--2 {
			ul {
				li {
					&:nth-of-type(-n + 2) {
						border-color: var(--accent);
						&:before {
							background-color: var(--accent);
						}
					}
				}
			}
		}

		&--3 {
			ul {
				li {
					&:nth-of-type(-n + 3) {
						border-color: var(--accent);
						&:before {
							background-color: var(--accent);
						}
					}
				}
			}
		}

		&--4 {
			ul {
				li {
					&:nth-of-type(-n + 4) {
						border-color: var(--accent);
						&:before {
							background-color: var(--accent);
						}
					}
				}
			}
		}

		&--5 {
			ul {
				li {
					&:nth-of-type(-n + 5) {
						border-color: var(--accent);
						&:before {
							background-color: var(--accent);
						}
					}
				}
			}
		}
	}

	&__person {
		display: flex;
		flex-direction: column;
		align-items: center;
		justify-content: center;

		@include desktop {
			flex-direction: row;
			justify-content: flex-start;
		}

		#{$self}__image {
			margin: 0 0 48px 0;

			@include desktop {
				// width: calc(50% - 48px);
				margin: 0 96px 0 0;
				// display: flex;
				// justify-content: flex-end;
			}

			img {
				width: 240px;
				aspect-ratio: 1 / 1;
				@include square;
			}
		}

		#{$self}__info {
			text-align: center;

			@include desktop {
				// width: calc(50% - 48px);
				text-align: left;
			}

			p {
				margin-top: -48px;
				font-weight: var(--fw-medium);
				padding: 0;
			}

			ul {
				margin-top: 24px;
				display: flex;
				flex-direction: column;

				li {
					text-align: left;

					&:not(:last-of-type) {
						a {
							margin: 0 0 8px 0;
						}
					}

					a {
						display: block;
						position: relative;
						height: 40px;
						width: auto;
						overflow: hidden;
						padding: 0 0 0 64px;
						transition: 0.25s all ease-in-out;
						line-height: 40px;
						color: var(--cl-black);
						white-space: nowrap;
						color: var(--cl-black);
						text-overflow: ellipsis;

						&:before {
							content: '';
							position: absolute;
							top: 0;
							left: 0;
							width: 40px;
							height: 40px;
							border: 2px solid var(--cl-secondary);
							background-size: 16px 16px;
							background-repeat: no-repeat;
							background-position: center;
							transition: 0.25s background-image ease-in-out,
								0.25s border ease-in-out;
							@include square;
						}

						&.phone {
							&:before {
								background-image: url(../img/icons/mobile-android-regular-primary.svg);
							}
						}

						&.mail {
							&:before {
								background-image: url(../img/icons/envelope-open-regular-primary.svg);
							}
						}

						&:hover {
							&:before {
								border: 2px solid var(--cl-primary);
								cursor: pointer;
							}

							&.phone {
								&:before {
									background-image: url(../img/icons/mobile-android-regular-secondary.svg);
								}
							}

							&.mail {
								&:before {
									background-image: url(../img/icons/envelope-open-regular-secondary.svg);
								}
							}
						}
					}
				}
			}
		}
	}

	// align

	&--left {
		#{$self}__slider {
			.tns-controls {
				@include desktop {
					position: absolute;
					top: auto;
					bottom: 120px;
					transform: translateY(50%);
					justify-content: flex-end;
				}
			}
		}

		#{$self}__rating {
			ul {
				justify-content: flex-start;
			}
		}
	}

	&--center {
		#{$self}__slider {
			.tns-controls {
				position: relative;
				transform: translateY(0);
				padding: 0;
				margin: 96px 0 0 0;
				justify-content: center;

				@include desktop {
					position: absolute;
					top: auto;
					bottom: 120px;
					transform: translateY(50%);
					padding: 0;
					justify-content: space-between;
				}
			}
		}

		#{$self}__text {
			text-align: center;

			ul {
				li {
					&:before {
						position: relative;
						padding: 0 8px 0 0;
					}
				}
			}
		}

		#{$self}__person {
			@include desktop {
				justify-content: center;
			}

			#{$self}__image {
				@include desktop {
					width: calc(50% - 48px);
					display: flex;
					justify-content: flex-end;
				}
			}

			#{$self}__info {
				@include desktop {
					width: calc(50% - 48px);
				}
			}
		}
	}

	// background
	// TODO: clean this mess

	&--grey {
		--bg: var(--cl-grey);
	}

	&--black {
		--bg: var(--cl-black);
		--fg: var(--cl-white);
	}

	&--primary {
		--bg: var(--cl-primary);
		--fg: var(--cl-primary-text);
		--accent: var(--cl-primary-text);
		--accent2: var(--cl-primary-text);
	}

	&--secondary {
		--bg: var(--cl-secondary);
		--fg: var(--cl-secondary-text);
		--accent: var(--cl-secondary-text);
		--accent2: var(--cl-secondary-text);
	}
}
